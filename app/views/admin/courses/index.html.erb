<% provide(:title, 'Courses') %>

<header class="header">
  <h1 class="header__heading" id="page-title">Courses
</h1>
  <div class="header__actions">
   <a class="button" href="<%= new_admin_course_path %>"><i class='fa fa-plus' aria-hidden='true'></i>&nbsp;&nbsp;New course</a>
  </div>
</header>

<!--checks if this table is being rendered within show of faculity-->
<div class="table-responsive">
  <table class="collection-data table" aria-labelledby="page-title">
    <thead>
    <tr>
      <th class="cell-label
      cell-label--string
      cell-label--false
      " scope="col">
            Name
      </th>
      <th class="cell-label
      cell-label--has-many
      cell-label--false
      " scope="col">
           Owner Departments
      </th>
      <th colspan="2" scope="col"></th>
    </tr>
    </thead>

    <tbody>

  <% @courses.each do |course| %>

   <tr class="table__row"
            role="link"
            tabindex="0"
            data-url="<%= edit_admin_course_path(course) %>"
        >
      <td class="cell-data cell-data--string">

      <%= course.name %>

      </td>
      <td class="cell-data cell-data--has-many">
        <%= course.departments.count %> departments
      </td>

      <td><a class="action-edit" href="<%= edit_admin_course_path(course) %>"><i class="fa fa-pencil" aria-hidden="true"></i>&nbsp;&nbspEdit</a>
        <!--if table is not being rendered in show, add a delete button which removes record-->
        <a class="table__action--destroy"
           data-confirm="Are you sure?" rel="nofollow"
           data-method="delete" href="/admin/courses/<%= course.id %>">
           <i class="fa fa-trash" aria-hidden="true"></i>&nbsp;&nbspDelete</a>
      </td>
    </tr>

  <% end %>

    </tbody>
  </table>
</div>
